angular.module("ui.rCalendar.tpls",["template/rcalendar/calendar.html","template/rcalendar/day.html","template/rcalendar/month.html","template/rcalendar/week.html"]),angular.module("ui.rCalendar",["ui.rCalendar.tpls"]).constant("calendarConfig",{formatDay:"dd",formatDayHeader:"EEE",formatDayTitle:"MMMM dd, yyyy",formatWeekTitle:"MMMM yyyy, Week w",formatMonthTitle:"MMMM yyyy",formatWeekViewDayHeader:"EEE d",formatHourColumn:"ha",calendarMode:"month",showWeeks:!1,showEventDetail:!0,startingDay:0,eventSource:null,queryMode:"local"}).controller("ui.rCalendar.CalendarController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","calendarConfig",function(e,t,n,a,r,l,i){"use strict";function d(e,t){return!(e.endIndex<=t.startIndex||t.endIndex<=e.startIndex)}function s(e){var t,n,a,r=e.length,l=0,i=new Array(r);for(t=0;r>t;t+=1){for(a=0;l>a;a+=1)i[a]=!1;for(n=0;t>n;n+=1)d(e[t],e[n])&&(i[e[n].position]=!0);for(a=0;l>a&&i[a];a+=1);l>a?e[t].position=a:e[t].position=l++}}function o(e){var t,n,a,r,l,i,d,s=new Array(24);for(e.sort(function(e,t){return t.position-e.position}),a=0;24>a;a+=1)s[a]={calculated:!1,events:[]};for(l=e.length,a=0;l>a;a+=1)for(t=e[a],n=t.startIndex;n<t.endIndex;)s[n].events.push(t),n+=1;for(a=0;l>a;){if(t=e[a],!t.overlapNumber){var o=t.position+1;t.overlapNumber=o;for(var c=[t];t=c.shift();)for(n=t.startIndex;n<t.endIndex;){if(!s[n].calculated&&(s[n].calculated=!0,s[n].events))for(i=s[n].events.length,r=0;i>r;r+=1)d=s[n].events[r],d.overlapNumber||(d.overlapNumber=o,c.push(d));n+=1}}a+=1}}var c=this,v={$setViewValue:angular.noop};angular.forEach(["formatDay","formatDayHeader","formatDayTitle","formatWeekTitle","formatMonthTitle","formatWeekViewDayHeader","formatHourColumn","showWeeks","showEventDetail","startingDay","eventSource","queryMode"],function(n,r){c[n]=angular.isDefined(t[n])?7>r?a(t[n])(e.$parent):e.$parent.$eval(t[n]):i[n]}),e.$parent.$watch(t.eventSource,function(e){c.onEventSourceChanged(e)}),e.calendarMode=e.calendarMode||i.calendarMode,angular.isDefined(t.initDate)&&(c.currentCalendarDate=e.$parent.$eval(t.initDate)),c.currentCalendarDate||(c.currentCalendarDate=new Date,t.ngModel&&!e.$parent.$eval(t.ngModel)&&n(t.ngModel).assign(e.$parent,c.currentCalendarDate)),c.init=function(e){v=e,v.$render=function(){c.render()}},c.render=function(){if(v.$modelValue){var e=new Date(v.$modelValue),t=!isNaN(e);t?this.currentCalendarDate=e:r.error('"ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),v.$setValidity("date",t)}this.refreshView()},c.refreshView=function(){this.mode&&(this.range=this._getRange(this.currentCalendarDate),this._refreshView(),this.rangeChanged())},c.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},c.onEventSourceChanged=function(e){c.eventSource=e,c._onDataLoaded&&c._onDataLoaded()},e.move=function(t){var n,a=c.mode.step,r=c.currentCalendarDate,l=r.getFullYear()+t*(a.years||0),i=r.getMonth()+t*(a.months||0),d=r.getDate()+t*(a.days||0);r.setFullYear(l,i,d),"month"===e.calendarMode&&(n=new Date(l,i+1,1),n.getTime()<=r.getTime()&&(c.currentCalendarDate=new Date(n-864e5))),v.$setViewValue(c.currentCalendarDate),c.refreshView()},c.move=function(t){e.move(t)},c.rangeChanged=function(){"local"===c.queryMode?c.eventSource&&c._onDataLoaded&&c._onDataLoaded():"remote"===c.queryMode&&e.rangeChanged&&e.rangeChanged({startTime:this.range.startTime,endTime:this.range.endTime})},c.placeEvents=function(e){s(e),o(e)},c.placeAllDayEvents=function(e){s(e)}}]).directive("calendar",function(){"use strict";return{restrict:"EA",replace:!0,templateUrl:"template/rcalendar/calendar.html",scope:{calendarMode:"=",rangeChanged:"&",eventSelected:"&",timeSelected:"&"},require:["calendar","?^ngModel"],controller:"ui.rCalendar.CalendarController",link:function(e,t,n,a){var r=a[0],l=a[1];l&&r.init(l),e.$on("changeDate",function(e,t){r.move(t)}),e.$on("eventSourceChanged",function(e,t){r.onEventSourceChanged(t)})}}}).directive("monthview",["dateFilter",function(e){"use strict";return{restrict:"EA",replace:!0,templateUrl:"template/rcalendar/month.html",require:["^calendar","?^ngModel"],link:function(t,n,a,r){function l(e,t){var n=new Array(t),a=new Date(e),r=0;for(a.setHours(12);t>r;)n[r++]=new Date(a),a.setDate(a.getDate()+1);return n}function i(t,n){return{date:t,label:e(t,n),selected:0===o.compare(t,o.currentCalendarDate),current:0===o.compare(t,new Date)}}function d(e,t){return e.allDay?1:t.allDay?-1:e.startTime.getTime()-t.startTime.getTime()}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=r[0],c=r[1];t.showWeeks=o.showWeeks,t.showEventDetail=o.showEventDetail,o.mode={step:{months:1}},t.select=function(e){var n=t.rows;if(n){var a=o.currentCalendarDate,r=a.getMonth(),l=a.getFullYear(),i=e.getMonth(),d=e.getFullYear(),s=0;if(l===d?r!==i&&(s=i>r?1:-1):s=d>l?1:-1,o.currentCalendarDate=e,c&&c.$setViewValue(e),0===s)for(var v=0;6>v;v+=1)for(var u=0;7>u;u+=1){var h=0===o.compare(e,n[v][u].date);n[v][u].selected=h,h&&(t.selectedDate=n[v][u])}else o.refreshView();t.timeSelected&&t.timeSelected({selectedTime:e})}},o._refreshView=function(){for(var n=o.range.startTime,a=n.getDate(),r=(n.getMonth()+(1!==a?1:0))%12,d=n.getFullYear()+(1!==a&&0===r?1:0),c=l(n,42),v=0;42>v;v++)c[v]=angular.extend(i(c[v],o.formatDay),{secondary:c[v].getMonth()!==r});t.labels=new Array(7);for(var u=0;7>u;u++)t.labels[u]=e(c[u].date,o.formatDayHeader);var h=new Date(d,r,1);if(t.$parent.title=e(h,o.formatMonthTitle),t.rows=o.split(c,7),t.showWeeks){t.weekNumbers=[];for(var m=(11-o.startingDay)%7,f=t.rows.length,g=0;f>g;g++)t.weekNumbers.push(s(t.rows[g][m].date))}},o._onDataLoaded=function(){var e,n,a=o.eventSource,r=a?a.length:0,l=o.range.startTime,i=o.range.endTime,s=-(new Date).getTimezoneOffset(),c=new Date(l.getTime()+6e4*s),v=new Date(i.getTime()+6e4*s),u=t.rows,h=864e5,m=.001,f=!1;if(u.hasEvent)for(e=0;6>e;e+=1)for(n=0;7>n;n+=1)u[e][n].hasEvent&&(u[e][n].events=null,u[e][n].hasEvent=!1);for(var g=0;r>g;g+=1){var p,w,y=a[g],D=new Date(y.startTime),b=new Date(y.endTime);if(y.allDay){if(c>=b||D>=v)continue;p=c,w=v}else{if(l>=b||D>=i)continue;p=l,w=i}var E;E=p>=D?0:(D-p)/h;var x;x=b>=w?(w-p)/h:(b-p)/h;for(var k,T=Math.floor(E);x-m>T;){var M=Math.floor(T/7),C=Math.floor(T%7);u[M][C].hasEvent=!0,k=u[M][C].events,k?k.push(y):(k=[],k.push(y),u[M][C].events=k),T+=1}}for(e=0;6>e;e+=1)for(n=0;7>n;n+=1)u[e][n].hasEvent&&(f=!0,u[e][n].events.sort(d));u.hasEvent=f;var W=!1;for(e=0;6>e;e+=1){for(n=0;7>n;n+=1)if(u[e][n].selected){t.selectedDate=u[e][n],W=!0;break}if(W)break}},o.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},o._getRange=function(e){var t,n=e.getFullYear(),a=e.getMonth(),r=new Date(n,a,1),l=o.startingDay-r.getDay(),i=l>0?7-l:-l,d=new Date(r);return i>0&&d.setDate(-i+1),t=new Date(d),t.setDate(t.getDate()+42),{startTime:d,endTime:t}},o.refreshView()}}}]).directive("weekview",["dateFilter","$timeout",function(e,t){"use strict";return{restrict:"EA",replace:!0,templateUrl:"template/rcalendar/week.html",require:"^calendar",link:function(n,a,r,l){function i(){var e=a.children(),t=e[1].children[1];console.log(e);var r=t.offsetWidth-t.clientWidth,l=e[2],i=l.offsetWidth-l.clientWidth,d=r||i||0;d>0&&(n.gutterWidth=d,0>=r?n.allDayEventGutterWidth=d:n.allDayEventGutterWidth=0,0>=i?n.normalGutterWidth=d:n.normalGutterWidth=0)}function d(e,t){var n=new Array(t),a=new Date(e),r=0;for(a.setHours(12);t>r;)n[r++]={date:new Date(a)},a.setDate(a.getDate()+1);return n}function s(e){for(var t,n,a=[],r=e.getHours(),l=e.getDate(),i=0;24>i;i+=1){t=[];for(var d=0;7>d;d+=1)n=new Date(e.getTime()),n.setHours(r+i),n.setDate(l+d),t.push({time:n});a.push(t)}return a}function o(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}n.formatWeekViewDayHeader=l.formatWeekViewDayHeader,n.formatHourColumn=l.formatHourColumn,t(function(){i()}),l.mode={step:{days:7}},n.select=function(e){n.timeSelected&&n.timeSelected({selectedTime:e})},l._onDataLoaded=function(){var e,a,r,d=l.eventSource,s=d?d.length:0,o=l.range.startTime,c=l.range.endTime,v=-(new Date).getTimezoneOffset(),u=new Date(o.getTime()+60*v*1e3),h=new Date(c.getTime()+60*v*1e3),m=n.rows,f=n.dates,g=36e5,p=864e5,w=.016,y=!1,D=!1;if(m.hasEvent){for(a=0;7>a;a+=1)for(r=0;24>r;r+=1)m[r][a].events&&(m[r][a].events=null);m.hasEvent=!1}if(f.hasEvent){for(a=0;7>a;a+=1)f[a].events&&(f[a].events=null);f.hasEvent=!1}for(var b=0;s>b;b+=1){var E=d[b],x=new Date(E.startTime),k=new Date(E.endTime);if(E.allDay){if(u>=k||x>=h)continue;y=!0;var T;T=u>=x?0:Math.floor((x-u)/p);var M;M=k>=h?Math.ceil((h-u)/p):Math.ceil((k-u)/p);var C={event:E,startIndex:T,endIndex:M};e=f[T].events,e?e.push(C):(e=[],e.push(C),f[T].events=e)}else{if(o>=k||x>=c)continue;D=!0;var W;W=o>=x?0:(x-o)/g;var $;$=k>=c?(c-o)/g:(k-o)/g;var H,S=Math.floor(W),V=Math.ceil($-w),I=S%24,F=Math.floor(S/24),_=24*F;console.log(V);do{_+=24,H=V>=_?24:V%24;var G={event:E,startIndex:I,endIndex:H};e=m[I][F].events,e?e.push(G):(e=[],e.push(G),m[I][F].events=e),I=0,F+=1}while(V>_)}}if(D)for(a=0;7>a;a+=1){var N=[];for(r=0;24>r;r+=1)m[r][a].events&&(N=N.concat(m[r][a].events));N.length>0&&(m.hasEvent=!0,l.placeEvents(N))}if(y){var A=[];for(a=0;7>a;a+=1)f[a].events&&(A=A.concat(f[a].events));A.length>0&&(f.hasEvent=!0,l.placeAllDayEvents(A))}t(function(){i()})},l._refreshView=function(){var t,a,r=l.range.startTime,i=d(r,7),c="w";n.rows=s(r),n.dates=i,t=l.formatWeekTitle.indexOf(c),a=e(r,l.formatWeekTitle),-1!==t&&(a=a.replace(c,o(r))),n.$parent.title=a},l._getRange=function(e){var t=e.getFullYear(),n=e.getMonth(),a=e.getDate(),r=e.getDay(),l=new Date(t,n,a-r),i=new Date(t,n,a-r+7);return{startTime:l,endTime:i}},l.refreshView()}}}]).directive("dayview",["dateFilter","$timeout",function(e,t){"use strict";return{restrict:"EA",replace:!0,templateUrl:"template/rcalendar/day.html",require:"^calendar",link:function(n,a,r,l){function i(){var e=a.children(),t=e[0].children[1],r=t.offsetWidth-t.clientWidth,l=e[1],i=l.offsetWidth-l.clientWidth,d=r||i||0;d>0&&(0>=r?n.allDayEventGutterWidth=d:n.allDayEventGutterWidth=0,0>=i?n.normalGutterWidth=d:n.normalGutterWidth=0)}function d(e){for(var t,n=[],a=e.getHours(),r=e.getDate(),l=0;24>l;l+=1)t=new Date(e.getTime()),t.setHours(a+l),t.setDate(r),n.push({time:t});return n}n.formatHourColumn=l.formatHourColumn,t(function(){i()}),l.mode={step:{days:1}},n.select=function(e){n.timeSelected&&n.timeSelected({selectedTime:e})},l._onDataLoaded=function(){var e,a,r=l.eventSource,d=r?r.length:0,s=l.range.startTime,o=l.range.endTime,c=-(new Date).getTimezoneOffset(),v=new Date(s.getTime()+60*c*1e3),u=new Date(o.getTime()+60*c*1e3),h=n.rows,m=[],f=36e5,g=.016,p=!1;if(h.hasEvent){for(a=0;24>a;a+=1)h[a].events&&(h[a].events=null);h.hasEvent=!1}for(var w=0;d>w;w+=1){var y=r[w],D=new Date(y.startTime),b=new Date(y.endTime);if(y.allDay){if(v>=b||D>=u)continue;m.push({event:y})}else{if(s>=b||D>=o)continue;p=!0;var E;E=s>=D?0:(D-s)/f;var x;x=b>=o?(o-s)/f:(b-s)/f;var k=Math.floor(E),T=Math.ceil(x-g),M={event:y,startIndex:k,endIndex:T};e=h[k].events,e?e.push(M):(e=[],e.push(M),h[k].events=e)}}if(p){var C=[];for(a=0;24>a;a+=1)h[a].events&&(C=C.concat(h[a].events));C.length>0&&(h.hasEvent=!0,l.placeEvents(C))}n.allDayEvents=m,t(function(){i()})},l._refreshView=function(){var t=l.range.startTime;n.rows=d(t),n.allDayEvents=[],n.dates=[t],n.$parent.title=e(t,l.formatDayTitle)},l._getRange=function(e){var t=e.getFullYear(),n=e.getMonth(),a=e.getDate(),r=new Date(t,n,a),l=new Date(t,n,a+1);return{startTime:r,endTime:l}},l.refreshView()}}}]),angular.module("template/rcalendar/calendar.html",[]).run(["$templateCache",function(e){e.put("template/rcalendar/calendar.html",'<div ng-switch="calendarMode">\n    <div class="row calendar-navbar">\n        <div class="nav-left col-xs-2">\n            <button type="button" class="btn btn-default btn-sm" ng-click="move(-1)"><i\n                    class="glyphicon glyphicon-chevron-left"></i></button>\n        </div>\n        <div class="calendar-header col-xs-8">{{title}}</div>\n        <div class="nav-right col-xs-2">\n            <button type="button" class="btn btn-default btn-sm" ng-click="move(1)"><i\n                    class="glyphicon glyphicon-chevron-right"></i></button>\n        </div>\n    </div>\n    <dayview ng-switch-when="day"></dayview>\n    <monthview ng-switch-when="month"></monthview>\n    <weekview ng-switch-when="week"></weekview>\n</div>\n')}]),angular.module("template/rcalendar/day.html",[]).run(["$templateCache",function(e){e.put("template/rcalendar/day.html",'<div>\n    <div class="dayview-allday-table">\n        <div class="dayview-allday-label">\n            all day\n        </div>\n        <div class="dayview-allday-content-wrapper">\n            <table class="table table-bordered dayview-allday-content-table">\n                <tbody>\n                <tr>\n                    <td class="calendar-cell" ng-class="{\'calendar-event-wrap\':allDayEvents}"\n                        ng-style="{height: 25*allDayEvents.length+\'px\'}">\n                        <div ng-repeat="displayEvent in allDayEvents" class="calendar-event"\n                             ng-click="eventSelected({event:displayEvent.event})"\n                             ng-style="{top: 25*$index+\'px\',width: \'100%\',height:\'25px\'}">\n                            <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                        </div>\n                    </td>\n                    <td ng-if="allDayEventGutterWidth>0" class="gutter-column"\n                        ng-style="{width:allDayEventGutterWidth+\'px\'}"></td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class="scrollable" style="height: 400px">\n        <table class="table table-bordered table-fixed">\n            <tbody>\n            <tr ng-repeat="tm in rows track by $index">\n                <td class="calendar-hour-column text-center">\n                    {{tm.time | date: formatHourColumn}}\n                </td>\n                <td class="calendar-cell" ng-click="select(tm.time)">\n                    <div ng-class="{\'calendar-event-wrap\': tm.events}" ng-if="tm.events">\n                        <div ng-repeat="displayEvent in tm.events" class="calendar-event"\n                             ng-click="eventSelected({event:displayEvent.event})"\n                             ng-style="{left: 100/displayEvent.overlapNumber*displayEvent.position+\'%\', width: 100/displayEvent.overlapNumber+\'%\', height: 37*(displayEvent.endIndex-displayEvent.startIndex)+\'px\'}">\n                            <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                        </div>\n                    </div>\n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>')}]),angular.module("template/rcalendar/month.html",[]).run(["$templateCache",function(e){e.put("template/rcalendar/month.html",'<div>\n    <table class="table table-bordered table-fixed monthview-datetable monthview-datetable">\n        <thead>\n        <tr>\n            <th ng-show="showWeeks" class="calendar-week-column text-center">#</th>\n            <th ng-repeat="label in labels track by $index" class="text-center">\n                <small>{{label}}</small>\n            </th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-repeat="row in rows track by $index">\n            <td ng-show="showWeeks" class="calendar-week-column text-center">\n                <small><em>{{ weekNumbers[$index] }}</em></small>\n            </td>\n            <td ng-repeat="dt in row track by dt.date" class="monthview-dateCell" ng-click="select(dt.date)"\n                ng-class="{\'text-center\':true, \'monthview-current\': dt.current&&!dt.selected&&!dt.hasEvent,\'monthview-secondary-with-event\': dt.secondary&&dt.hasEvent, \'monthview-primary-with-event\':!dt.secondary&&dt.hasEvent&&!dt.selected, \'monthview-selected\': dt.selected}">\n                <div ng-class="{\'text-muted\':dt.secondary}">\n                    {{dt.label}}\n                </div>\n            </td>\n        </tr>\n        </tbody>\n    </table>\n    <div ng-if="showEventDetail" class="event-detail-container">\n        <div class="scrollable" style="height: 200px">\n            <table class="table table-bordered table-striped table-fixed">\n                <tr ng-repeat="event in selectedDate.events" ng-if="selectedDate.events">\n                    <td ng-if="!event.allDay" class="monthview-eventdetail-timecolumn">{{event.startTime|date: \'HH:mm\'}}\n                        -\n                        {{event.endTime|date: \'HH:mm\'}}\n                    </td>\n                    <td ng-if="event.allDay" class="monthview-eventdetail-timecolumn">All day</td>\n                    <td class="event-detail" ng-click="eventSelected({event:event})">{{event.title}}</td>\n                </tr>\n                <tr ng-if="!selectedDate.events"><td class="no-event-label">No Events</td></tr>\n            </table>\n        </div>\n    </div>\n</div>')}]),angular.module("template/rcalendar/week.html",[]).run(["$templateCache",function(e){e.put("template/rcalendar/week.html",'<div>\n    <table class="table table-bordered table-fixed weekview-header">\n        <thead>\n        <tr>\n            <th class="calendar-hour-column"></th>\n            <th ng-repeat="dt in dates" class="text-center weekview-header-label">{{dt.date| date:\n                formatWeekViewDayHeader}}\n            </th>\n            <th ng-if="gutterWidth>0" class="gutter-column" ng-style="{width: gutterWidth+\'px\'}"></th>\n        </tr>\n        </thead>\n    </table>\n    <div class="weekview-allday-table">\n        <div class="weekview-allday-label">\n            all day\n        </div>\n        <div class="weekview-allday-content-wrapper">\n            <table class="table table-bordered table-fixed weekview-allday-content-table">\n                <tbody>\n                <tr>\n                    <td ng-repeat="day in dates track by day.date" class="calendar-cell">\n                        <div ng-class="{\'calendar-event-wrap\': day.events}" ng-if="day.events"\n                             ng-style="{height: 25*day.events.length+\'px\'}">\n                            <div ng-repeat="displayEvent in day.events" class="calendar-event"\n                                 ng-click="eventSelected({event:displayEvent.event})"\n                                 ng-style="{top: 25*displayEvent.position+\'px\', width: 100*(displayEvent.endIndex-displayEvent.startIndex)+\'%\', height: \'25px\'}">\n                                <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                            </div>\n                        </div>\n                    </td>\n                    <td ng-if="allDayEventGutterWidth>0" class="gutter-column"\n                        ng-style="{width: allDayEventGutterWidth+\'px\'}"></td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n    <div class="scrollable" style="height: 400px">\n        <table class="table table-bordered table-fixed">\n            <tbody>\n            <tr ng-repeat="row in rows track by $index">\n                <td class="calendar-hour-column text-center">\n                    {{row[0].time | date: formatHourColumn}}\n                </td>\n                <td ng-repeat="tm in row track by tm.time" class="calendar-cell" ng-click="select(tm.time)">\n                    <div ng-class="{\'calendar-event-wrap\': tm.events}" ng-if="tm.events">\n                        <div ng-repeat="displayEvent in tm.events" class="calendar-event"\n                             ng-click="eventSelected({event:displayEvent.event})"\n                             ng-style="{left: 100/displayEvent.overlapNumber*displayEvent.position+\'%\', width: 100/displayEvent.overlapNumber+\'%\', height: 37*(displayEvent.endIndex-displayEvent.startIndex)+\'px\'}">\n                            <div class="calendar-event-inner">{{displayEvent.event.title}}</div>\n                        </div>\n                    </div>\n                </td>\n                <td ng-if="normalGutterWidth>0" class="gutter-column" ng-style="{width: normalGutterWidth+\'px\'}"></td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n</div>')}]);